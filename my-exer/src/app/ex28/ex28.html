<div class="container mt-5">
  <h2 class="text-center mb-4">Cryptocurrency Prices</h2>
  
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
  
  <div *ngIf="cryptoData.length > 0" class="card">
    <div class="card-header bg-warning">
      <h4>Live Cryptocurrency Market Data</h4>
    </div>
    
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead class="table-dark">
            <tr>
              <th>Rank</th>
              <th>Name</th>
              <th>Symbol</th>
              <th>Price (USD)</th>
              <th>Market Cap</th>
              <th>24h Volume</th>
              <th>1h %</th>
              <th>24h %</th>
              <th>7d %</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let crypto of cryptoData">
              <td><strong>#{{ crypto.rank }}</strong></td>
              <td><strong>{{ crypto.name }}</strong></td>
              <td><span class="badge bg-primary">{{ crypto.symbol }}</span></td>
              <td><strong>${{ crypto.price_usd | number:'1.2-2' }}</strong></td>
              <td>${{ crypto.market_cap_usd | number:'1.0-0' }}</td>
              <td>${{ crypto["24h_volume_usd"] | number:'1.0-0' }}</td>
              <td [ngClass]="getChangeClass(crypto.percent_change_1h)">
                {{ getChangeIcon(crypto.percent_change_1h) }} {{ crypto.percent_change_1h | number:'1.2-2' }}%
              </td>
              <td [ngClass]="getChangeClass(crypto.percent_change_24h)">
                {{ getChangeIcon(crypto.percent_change_24h) }} {{ crypto.percent_change_24h | number:'1.2-2' }}%
              </td>
              <td [ngClass]="getChangeClass(crypto.percent_change_7d)">
                {{ getChangeIcon(crypto.percent_change_7d) }} {{ crypto.percent_change_7d | number:'1.2-2' }}%
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="mt-3">
        <small class="text-muted">Data source: Cryptocurrency Market API (Local JSON for demo)</small>
      </div>
    </div>
  </div>
</div>
